{
    "post": {
        "description": "You can use this endpoint to send letter.",
        "operationId": "sendLetter",
        "requestBody": {
            "content": {
                "application/json": {
                    "schema": {
                        "$ref": "./schema.json#/components/schemas/SendLetterRequest"
                    },
                    "examples": {
                        "Letter": {
                            "value": {
                                "template_id": "64415853-cb86-4cc4-b597-2aaa94ef8c39",
                                "personalisation": {
                                    "address_line_1": "Amala Bird",
                                    "address_line_2": "123 High Street",
                                    "address_line_3": "Richmond upon Thames",
                                    "address_line_4": "Middlesex",
                                    "address_line_5": "SW14 6BF",
                                    "name": "Amala",
                                    "appointment_date": "1 January 2018 at 1:00PM",
                                    "required_documents": [
                                        "passport",
                                        "utility bill",
                                        "other id"
                                    ]
                                },
                                "reference": "your reference"
                            }
                        },
                        "Precompiled Letter": {
                            "value": {
                                "reference": "your reference",
                                "content": "file as base64 encoded string",
                                "postage": "second"
                            }
                        }
                    }
                }
            },
            "description": "requestPayload",
            "required": true
        },
        "responses": {
            "201": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "schema.json#/components/schemas/SendLetterResponse"
                        },
                        "examples": {
                            "Letter": {
                                "value": {
                                    "id": "3d1ce039-5476-414c-99b2-fac1e6add62c",
                                    "reference": "your reference",
                                    "content": {
                                        "subject": "Your upcoming pigeon registration appointment",
                                        "body": "Dear Amala\r\n\r\nYour pigeon registration appointment is scheduled for 1 January 2018 at 1:00PM.\r\n\r\nPlease bring:\r\n\n\n* passport\n* utility bill\n* other id\r\n\r\nYours,\r\nPigeon Affairs Bureau"
                                    },
                                    "uri": "https://api.notifications.service.gov.uk/v2/notifications/3d1ce039-5476-414c-99b2-fac1e6add62c",
                                    "template": {
                                        "id": "64415853-cb86-4cc4-b597-2aaa94ef8c39",
                                        "version": 3,
                                        "uri": "https://api.notifications.service.gov.uk/v2/template/64415853-cb86-4cc4-b597-2aaa94ef8c39"
                                    },
                                    "scheduled_for": null
                                }
                            },
                            "Precompiled Letter": {
                                "value": {
                                    "id": "1d986ba7-fba6-49fb-84e5-75038a1dd968",
                                    "reference": "your reference",
                                    "postage": "second"
                                }
                            }
                        }
                    }
                },
                "description": "Created"
            },
            "400": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "schema.json#/components/schemas/SendNotificaitonRequestError"
                        }
                    }
                },
                "description": "Bad request. Check the `message` in the response to find out why your request failed."
            },
            "403": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "schema.json#/components/schemas/AuthError"
                        }
                    }
                },
                "description": "Auth error. Check the `message` in the response to find out why your request failed."
            },
            "429": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "schema.json#/components/schemas/LimitError"
                        }
                    }
                },
                "description": "Rate or service limit error. Check the `message` in the response to find out why your request failed."
            }
        },
        "security": [
            {
                "BearerAuth": []
            }
        ],
        "summary": "Send a letter",
        "tags": [
            "Send a message"
        ]
    }
}